
この文書ではlr1ccが扱う文法定義ファイルについて記述します。

## 例

```
%start S

%end end

%terminal a b

%grammar

S: a S b [more-ab]
 |       [no-more-ab]
 ;
```

## 字句規約

識別子はアルファベット、数字、アンダーバー、ハイフン、ピリオドの列のことをいいます。

次の記号は単独で字句要素になります。

```
: ; | [ ]
```

コメントは番号記号で始まり改行で終わります。

## 構文

文法定義ファイルは複数のセクションからなります。セクションは開始記号セクション、End-Of-Tokens記号セクション、終端記号セクション、非終端記号セクション、文法セクションのいずれかです。セクションの順番は不問で、同じ種類のセクションが複数回記述されることは許容されます。

### 開始記号セクションとEnd-Of-Tokens記号セクション

```
%start 識別子
%end 識別子
```

開始記号セクションは開始記号を定義し、End-Of-Tokens記号セクションはEnd-Of-Tokens記号を定義します。

### 終端記号セクションと非終端記号セクション

```
%terminal 識別子1 識別子2 ...
%intermediate 識別子1 識別子2 ...
```

終端記号セクションは使用する終端記号を定義し、非終端記号セクションは使用する非終端記号を定義します。このセクションに列挙されていない記号を使用することは禁止されています。

### 文法セクション

```
%grammar 生成規則1 生成規則2 ...
```

文法セクションは生成規則を定義します。生成規則は左辺、右辺、名前から構成されます。左辺と右辺はコロンによって分離され、名称は角括弧によって囲まれます。同じ左辺を持つ生成規則はバーティカルバーを使って略記することができます。

```
左辺識別子: 右辺識別子1 右辺識別子2 ... [名前識別子] ;
左辺識別子: 右辺1 | 右辺2 | ... ;
```
